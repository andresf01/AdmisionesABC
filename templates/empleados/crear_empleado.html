{% extends "administrador/base_sb.html" %}
{% load staticfiles %}
{% load bootstrap3 %}

{% block specific-css %}
    <style type="text/css">
    .buttons{
        width: 80%;
        margin-left: 10%;
        margin-top: 30px;
    }
    
    .alert{
        padding: 5px 5px 5px 15px;
    }
    
    @media (max-width: 768px) {
      .btn-responsive {
        margin:2px 4px;
        /*padding:2px 4px;*/
        /*font-size:80%;*/
        /*line-height: 1;*/
        /*border-radius:3px;*/
      }
    }
    
    @media (min-width: 769px) and (max-width: 992px) {
      .btn-responsive {
        margin:4px 9px;
        /*font-size:90%;*/
        /*line-height: 1.2;*/
      }
    }
    </style>
    {{ form.media }}
{% endblock %}

{% block content %}
{# ================ insert here all the content of the page =============== #}
<div id="page-wrapper" class="tiki full-screen-w">
    <div class="row">
        <div class="col-lg-12">
            {% if editar%}
            <h1 class="page-header">Editar Empleado</h1>
            {% else %}
            <h1 class="page-header">Registrar Empleado</h1>
            {% endif %}
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
    {% if messages %}
    <div class="row" id="message">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            {% for message in messages %}
            <div class="alert {% if message.tags == 'success' %} alert-success {% else %} alert-danger {% endif %}">
                <strong {% if message.tags %} class="{{ message.tags }}" {% endif %}>{{ message }}</strong>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
    <div class="row">
        <div class="col-lg-12">
            <div class="panel-body">
                <div class="row">
                    <div class="col-xs-10 col-xs-offset-1 col-sm-10 -col-sm-offset-1 col-md-12 col-md-offset-1 col-lg-12 col-lg-offset-0">
                        <form class="form-group-up form-horizontal" action="." method="POST">
                            {% csrf_token %}
                            <fieldset>
                                {% bootstrap_form_errors form %}
                                <!--********************************** Username **********************************-->
                                {% bootstrap_field form.username layout='horizontal' horizontal_label_class='col-lg-2' horizontal_field_class='form-group col-lg-10' form_group_class='row' %}
                                
                                <!--********************************** Password **********************************-->
                                {% if not editar %}
                                    {% bootstrap_field form.password1 layout='horizontal' horizontal_label_class='col-lg-2' horizontal_field_class='form-group col-lg-10' form_group_class='row' %}
                                {% endif%}
                                
                                {% if editar %}
                                    <div class="row">
                                    <label for="" class="col-lg-2 control-label">Contraseña</label>
                                    <div class="help-block col-lg-10 form-group">
                                        Puede cambiar la contraseña de este empleado usando este <a href="{% url 'setpassword_empleado' form.instance.documento %}" class="">formulario</a>.
                                    </div>
                                </div>
                                {% endif%}
                                
                                

                                <!--********************************** Repet Password **********************************-->
                                {% if not editar %}
                                    {% bootstrap_field form.password2 layout='horizontal' horizontal_label_class='col-lg-2' horizontal_field_class='form-group col-lg-10' form_group_class='row' %}
                                {% endif %}
                                
                                <!--********************************** Nombres **********************************-->
                                {% bootstrap_field form.nombre layout='horizontal' horizontal_label_class='col-lg-2' horizontal_field_class='form-group col-lg-10' form_group_class='row' %}

                                <!--********************************** Apellidos **********************************-->
                                {% bootstrap_field form.apellido layout='horizontal' horizontal_label_class='col-lg-2' horizontal_field_class='form-group col-lg-10' form_group_class='row' %}

                                <!--********************************** Tipo de documento **********************************-->
                                {% bootstrap_field form.tipo_documento layout='horizontal' horizontal_label_class='col-lg-2' horizontal_field_class='form-group col-lg-10' form_group_class='row' %}

                                <!--********************************** Numero de documento **********************************-->
                                {% bootstrap_field form.documento layout='horizontal' horizontal_label_class='col-lg-2' horizontal_field_class='form-group col-lg-10' form_group_class='row' show_help=False %}

                                <!--********************************** Cargo **********************************-->
                                {% bootstrap_field form.cargo layout='horizontal' horizontal_label_class='col-lg-2' horizontal_field_class='form-group col-lg-10' form_group_class='row' %}
                                
                                <!--********************************** Dirección **********************************-->
                                {% bootstrap_field form.direccion layout='horizontal' horizontal_label_class='col-lg-2' horizontal_field_class='form-group col-lg-10' form_group_class='row' %}
                                
                                <!--********************************** Telefono **********************************-->
                                {% bootstrap_field form.telefono layout='horizontal' horizontal_label_class='col-lg-2' horizontal_field_class='form-group col-lg-10' form_group_class='row' %}
                                
                                <!--********************************** Email **********************************-->
                                {% bootstrap_field form.email layout='horizontal' horizontal_label_class='col-lg-2' horizontal_field_class='form-group col-lg-10' form_group_class='row' %}
                                
                                {% if editar %}
                                <div class="row buttons">
                                    <div class="col-xs-12 col-sm-12  col-md-4 col-lg-4">
                                        <a type="return" class="btn btn-warning btn-block" data-toggle="modal" data-target="#myModal" href="{% url 'listar_empleados' %}">
                                            Regresar
                                        </a>
                                    </div>
                                    {% bootstrap_button "Editar" button_type="submit" button_class="btn-primary col-xs-12 col-sm-12  col-md-4 col-md-offset-4 col-lg-4 col-lg-offset-4 btn-responsive" %}
                                </div>
                                {% else %}
                                <div class="row buttons">
                                    <div class="col-xs-12 col-sm-12  col-md-4 col-lg-4">
                                        <a type="return" class="btn btn-warning btn-block" data-toggle="modal" data-target="#myModal" href="{% url 'listar_empleados' %}">
                                            Regresar
                                        </a>
                                    </div>
                                    {% bootstrap_button "Registrar" button_type="submit" button_class="btn-primary col-xs-12 col-sm-12  col-md-4 col-md-offset-4 col-lg-4 col-lg-offset-4 btn-responsive" %}
                                </div>
                                {% endif %}
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
</div>

{% endblock %}

{% block specific-js %}
<script src="{% static 'vendor/bootbox/bootbox.min.js' %}"></script>
<script type="text/javascript">
function itemWithTimer(id, tiempo){
  $(id).show();
  setTimeout(function() { $(id).hide(); }, tiempo*1000);
}
itemWithTimer("#message", 5)
{% if message %}
// bootbox.alert("{{ message }}");
{% endif %}
</script>
{% endblock %}